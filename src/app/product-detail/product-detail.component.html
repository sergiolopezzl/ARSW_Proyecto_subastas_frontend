<app-header></app-header>
<div *ngIf="product" class="product-detail-card">
  <div class="card">
    <div class="card-header">
      <h2>{{ product.name }}</h2>
    </div>
    <div class="card-body">
      <p><strong>Descripcion:</strong> {{ product.description }}</p>
      <p><strong>Precio:</strong> ${{ product.price }}</p>
      <p><strong>Estado:</strong> {{ product.status }}</p>
      <p><strong>Fecha de Creacion:</strong> {{ product.createdDate | date:'medium' }}</p>
      <p><strong>Fecha de Terminacion:</strong> {{ product.endDate | date:'medium' }}</p>
      <div *ngIf="product.seller">
        <h3>Detalles de Vendedor:</h3>
        <p><strong>Usuario:</strong> {{ product.seller.username }}</p>
      </div>
    </div>
  </div>

  <div class="bid-form">
    <h3>Puja</h3>
    <form (ngSubmit)="placeBid()">
      <div class="form-group">
        <label for="bidAmount">Pon tu monto para pujar:</label>
        <input type="number" id="bidAmount" [(ngModel)]="bidAmount" name="bidAmount" required>
      </div>
      <button type="submit">Submit Bid</button>
    </form>
    <div *ngIf="responseMessage" class="response-message">
      {{ responseMessage }}
    </div>
  </div>

  <div class="offers-list">
    <h3>Pujadores</h3>
    <div *ngFor="let offer of product.offers" class="offer-card">
      <p><strong>Usuario:</strong> {{ offer.user.username }}</p>
      <p><strong>Monto:</strong> ${{ offer.amount }}</p>
      <p><strong>Estado:</strong> {{ offer.status }}</p>
      <p><strong>Fecha:</strong> {{ offer.dateTime | date:'medium' }}</p>
    </div>
  </div>
</div>
